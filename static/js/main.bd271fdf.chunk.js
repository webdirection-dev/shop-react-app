(this["webpackJsonpshop-react-app"]=this["webpackJsonpshop-react-app"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(9),s=n.n(a),i=(n(17),n(18),n(0)),o=function(){return Object(i.jsx)("nav",{className:"purple darken-1",children:Object(i.jsxs)("div",{className:"nav-wrapper",children:[Object(i.jsx)("a",{href:"!#",className:"brand-logo",children:"React Shop"}),Object(i.jsx)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:Object(i.jsx)("li",{children:Object(i.jsx)("a",{href:"!#",children:"Repo"})})})]})})},l=function(){return Object(i.jsx)("footer",{className:"page-footer purple lighten-2",children:Object(i.jsx)("div",{className:"footer-copyright",children:Object(i.jsxs)("div",{className:"container",children:["\xa9 ",(new Date).getFullYear()," Copyright",Object(i.jsx)("a",{className:"grey-text text-lighten-4 right",href:"#!",children:"Repo"})]})})})},u=n(12),j=n(2),d=n(3),b=function(e){var t=e.item,n=e.addToBasket,c=t.id,r=t.name,a=t.description,s=t.price,o=t.full_background;return Object(i.jsxs)("div",{id:c,className:"card",children:[Object(i.jsx)("div",{className:"card-image",children:Object(i.jsx)("img",{src:o,alt:r})}),Object(i.jsxs)("div",{className:"card-content",children:[Object(i.jsx)("span",{className:"card-title",children:r}),Object(i.jsx)("p",{children:a})]}),Object(i.jsxs)("div",{className:"card-action",children:[Object(i.jsx)("button",{className:"btn",onClick:function(){return n(t)},children:"\u041a\u0443\u043f\u0438\u0442\u044c"}),Object(i.jsxs)("span",{className:"right",style:{fontSize:"1.8rem"},children:[s," \u0440\u0443\u0431."]})]})]})},m=function(e){var t=e.goods,n=void 0===t?[]:t,c=e.addToBasket,r=void 0===c?Function.prototype:c;return null!==n&&n.length?Object(i.jsx)("div",{className:"goodsList",children:n.map((function(e){return Object(i.jsx)(b,{item:e,addToBasket:r},e.id)}))}):Object(i.jsx)("h4",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e("})},h=function(){return Object(i.jsx)("div",{className:"progress",children:Object(i.jsx)("div",{className:"indeterminate"})})},O=function(e){var t=e.quantity,n=void 0===t?0:t,c=e.toBasketShow,r=void 0===c?Function.prototype:c;return Object(i.jsxs)("div",{className:"cart blue darken-4 white-text",onClick:function(){return r()},children:[Object(i.jsx)("i",{className:"material-icons",children:"shopping_cart"}),n?Object(i.jsx)("span",{className:"cart-quantity",children:n}):null]})},f=function(e){var t=e.id,n=e.name,c=e.price,r=e.quantity,a=e.removeFromBasket,s=e.onDecItem,o=e.onIncItem;return Object(i.jsxs)("li",{className:"collection-item",children:[Object(i.jsx)(p,{id:t,name:n,quantity:r,price:c,onDecItem:s,onIncItem:o}),Object(i.jsx)("span",{className:"secondary-content basket-delete",onClick:function(){return a(t)},children:Object(i.jsx)("i",{className:"material-icons",children:"close"})})]})},p=function(e){var t=e.id,n=e.name,c=e.quantity,r=e.price,a=e.onDecItem,s=e.onIncItem;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("b",{children:[n,":"]})," ",Object(i.jsx)("button",{onClick:function(){return a(t)},children:"-"})," ",c,"\u0448\u0442. ",Object(i.jsx)("button",{onClick:function(){return s(t)},children:"+"})," x ",r,"\u0440\u0443\u0431. = ",r*c," \u0440\u0443\u0431."]})},x=function(e){var t=e.orders,n=void 0===t?[]:t,c=e.toBasketShow,r=void 0===c?Function.prototype:c,a=e.removeFromBasket,s=void 0===a?Function.prototype:a,o=e.onDecItem,l=void 0===o?Function.prototype:o,u=e.onIncItem,d=void 0===u?Function.prototype:u,b=n.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(i.jsxs)("ul",{className:"collection z-depth-3 basket-list",children:[Object(i.jsx)("li",{className:"collection-item active",children:Object(i.jsx)("b",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"})}),n.length?n.map((function(e){return Object(i.jsx)(f,Object(j.a)({removeFromBasket:s,onDecItem:l,onIncItem:d},e),e.id)})):Object(i.jsx)("li",{className:"collection-item",children:Object(i.jsx)("b",{children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u0430 :("})}),Object(i.jsx)("li",{className:"collection-item active",children:Object(i.jsxs)("b",{children:["\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c: ",b," \u0440\u0443\u0431."]})}),Object(i.jsx)("li",{className:"collection-item right",children:Object(i.jsx)("button",{className:"btn-small",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c"})}),Object(i.jsx)("i",{className:"material-icons basket-close",onClick:r,children:"close"})]})},v=function(e){var t=e.name,n=void 0===t?null:t,r=e.closeAlert,a=void 0===r?Function.prototype:r;return Object(c.useEffect)((function(){var e=setTimeout((function(){return a()}),3e3);return function(){return clearTimeout(e)}}),[n]),Object(i.jsx)("div",{id:"toast-container",children:Object(i.jsxs)("div",{className:"toast",children:[n," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"]})})},k=n(5),g=n.n(k),N=n(8),y=n(10),I=n(11),w="https://fortniteapi.io/v1/shop?lang=ru",B=function(){function e(){Object(y.a)(this,e)}return Object(I.a)(e,[{key:"getResource",value:function(){var e=Object(N.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w,{headers:{Authorization:"c9831215-5f92cbc0-5952bcf5-7f026ddd"}});case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(w,", received ").concat(t.status));case 5:return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getGoodsList",value:function(){var e=Object(N.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),S=new B,F=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(d.a)(a,2),o=s[0],l=s[1],b=Object(c.useState)([]),m=Object(d.a)(b,2),h=m[0],O=m[1],f=Object(c.useState)(!1),p=Object(d.a)(f,2),x=p[0],v=p[1],k=Object(c.useState)(null),g=Object(d.a)(k,2),N=g[0],y=g[1];return Object(c.useEffect)((function(){S.getGoodsList().then((function(e){e.featured&&l(e.featured),r(!1)})).catch((function(e){return console.error(e)}))}),[]),Object(i.jsx)(q,{loading:n,goods:o,orders:h,addToBasket:function(e){var t=h.findIndex((function(t){return t.id===e.id}));if(t<0){var n=Object(j.a)(Object(j.a)({},e),{},{quantity:1});O([].concat(Object(u.a)(h),[n]))}else{var c=h.map((function(e,n){return t===n?Object(j.a)(Object(j.a)({},e),{},{quantity:e.quantity+1}):e}));O(c)}y(e.name)},isBasketShow:x,toBasketShow:function(){v(!x)},removeFromBasket:function(e){var t=h.filter((function(t){return t.id!==e}));O(t)},onDecItem:function(e){var t=h.map((function(t){return t.id===e?(t.quantity<=0?t.quantity=0:t.quantity-=1,t):t}));O(t)},onIncItem:function(e){var t=h.map((function(t){return t.id===e?(t.quantity+=1,t):t}));O(t)},alertName:N,closeAlert:function(){y(null)}})},q=function(e){var t=e.loading,n=e.goods,c=e.orders,r=e.addToBasket,a=e.isBasketShow,s=e.toBasketShow,o=e.removeFromBasket,l=e.onDecItem,u=e.onIncItem,j=e.alertName,d=e.closeAlert;return Object(i.jsxs)("main",{className:"container content",children:[0!==c.length?Object(i.jsx)(O,{quantity:c.length,toBasketShow:s}):null,t?Object(i.jsx)(h,{}):Object(i.jsx)(m,{goods:n,addToBasket:r,toBasketShow:s}),a?Object(i.jsx)(x,{orders:c,toBasketShow:s,removeFromBasket:o,onDecItem:l,onIncItem:u}):null,j?Object(i.jsx)(v,{name:j,closeAlert:d}):null]})},D=F;var C=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o,{}),Object(i.jsx)(D,{}),Object(i.jsx)(l,{})]})};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(C,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.bd271fdf.chunk.js.map